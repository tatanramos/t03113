{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianramos/Desktop/tracker/src/views/Flights.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport config from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst URL = `${config.WEBSOCKET_URL}`;\nlet connect_message = '{\"type\": \"join\", \"id\": \"user id\", \"username\": \"username\"}';\n\nconst Flights = () => {\n  _s();\n\n  const [ws, setWs] = useState(new WebSocket(URL));\n  const [message, setMessage] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [flights, setFlights] = useState([]);\n  useEffect(() => {\n    ws.onopen = () => {\n      console.log('WebSocket Connected');\n      ws.send(connect_message);\n    };\n\n    ws.onmessage = function (event) {\n      const message = JSON.parse(event.data);\n\n      try {\n        if (message.hasOwnProperty(\"flights\")) {\n          var result = [];\n\n          for (var i in message[\"flights\"]) result.push([i]);\n\n          setFlights([result]); // console.log(message[\"flights\"]);\n        }\n      } catch (err) {// whatever you wish to do with the err\n      }\n    };\n\n    return () => {\n      ws.onclose = () => {\n        console.log('WebSocket Disconnected');\n        setWs(new WebSocket(URL));\n      };\n    };\n  }, [ws.onmessage, ws.onopen, ws.onclose]);\n  return (\n    /*#__PURE__*/\n    // <div>\n    //     <table>\n    //         <thead>\n    //             <tr>\n    //             <th>FLIGHT ID</th>\n    //             </tr>\n    //         </thead>\n    //         <tbody>\n    //             {flights.map((flight, index) => {\n    //             return (\n    //                 <tr key={index}>\n    //                     <td>{ flight }</td>\n    //                 </tr>\n    //             );\n    //             })}\n    //         </tbody>\n    //     </table>\n    // </div>\n    _jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ola\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"sa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)\n  );\n};\n\n_s(Flights, \"yUWUXjpfKCbxlnk2q23getkefJw=\");\n\n_c = Flights;\nexport default Flights;\n\nvar _c;\n\n$RefreshReg$(_c, \"Flights\");","map":{"version":3,"names":["React","useState","useEffect","config","URL","WEBSOCKET_URL","connect_message","Flights","ws","setWs","WebSocket","message","setMessage","messages","setMessages","flights","setFlights","onopen","console","log","send","onmessage","event","JSON","parse","data","hasOwnProperty","result","i","push","err","onclose"],"sources":["/Users/sebastianramos/Desktop/tracker/src/views/Flights.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport config from \"../config\";\n\nconst URL = `${config.WEBSOCKET_URL}`;\nlet connect_message = '{\"type\": \"join\", \"id\": \"user id\", \"username\": \"username\"}'\n\nconst Flights = () => {\n    const [ws, setWs] = useState(new WebSocket(URL));\n    const [message, setMessage] = useState([]);\n    const [messages, setMessages] = useState([]);\n    const [flights, setFlights] = useState([]);\n\n    useEffect(() => {\n\t    ws.onopen = () => {\n\t      console.log('WebSocket Connected');\n        ws.send(connect_message);\n\t    }\n\n        ws.onmessage = function (event) {\n            const message = JSON.parse(event.data);\n            try {\n                if (message.hasOwnProperty(\"flights\")) {\n                    var result = [];\n                    for(var i in message[\"flights\"])\n                        result.push([i]);\n                    setFlights([result]);\n                    // console.log(message[\"flights\"]);\n                }\n            } catch (err) {\n                // whatever you wish to do with the err\n            }\n            \n            };\n\n\t    return () => {\n\t      ws.onclose = () => {\n\t        console.log('WebSocket Disconnected');\n\t        setWs(new WebSocket(URL));\n\t      }\n\t    }\n  \t}, [ws.onmessage, ws.onopen, ws.onclose]);\n    return (\n        // <div>\n        //     <table>\n        //         <thead>\n        //             <tr>\n        //             <th>FLIGHT ID</th>\n        //             </tr>\n        //         </thead>\n        //         <tbody>\n        //             {flights.map((flight, index) => {\n        //             return (\n        //                 <tr key={index}>\n        //                     <td>{ flight }</td>\n        //                 </tr>\n        //             );\n        //             })}\n        //         </tbody>\n        //     </table>\n        // </div>\n        <div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>ola</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>sa</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default Flights;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,MAAMC,GAAG,GAAI,GAAED,MAAM,CAACE,aAAc,EAApC;AACA,IAAIC,eAAe,GAAG,2DAAtB;;AAEA,MAAMC,OAAO,GAAG,MAAM;EAAA;;EAClB,MAAM,CAACC,EAAD,EAAKC,KAAL,IAAcR,QAAQ,CAAC,IAAIS,SAAJ,CAAcN,GAAd,CAAD,CAA5B;EACA,MAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,EAAD,CAAtC;EAEAC,SAAS,CAAC,MAAM;IACfM,EAAE,CAACS,MAAH,GAAY,MAAM;MAChBC,OAAO,CAACC,GAAR,CAAY,qBAAZ;MACCX,EAAE,CAACY,IAAH,CAAQd,eAAR;IACF,CAHD;;IAKGE,EAAE,CAACa,SAAH,GAAe,UAAUC,KAAV,EAAiB;MAC5B,MAAMX,OAAO,GAAGY,IAAI,CAACC,KAAL,CAAWF,KAAK,CAACG,IAAjB,CAAhB;;MACA,IAAI;QACA,IAAId,OAAO,CAACe,cAAR,CAAuB,SAAvB,CAAJ,EAAuC;UACnC,IAAIC,MAAM,GAAG,EAAb;;UACA,KAAI,IAAIC,CAAR,IAAajB,OAAO,CAAC,SAAD,CAApB,EACIgB,MAAM,CAACE,IAAP,CAAY,CAACD,CAAD,CAAZ;;UACJZ,UAAU,CAAC,CAACW,MAAD,CAAD,CAAV,CAJmC,CAKnC;QACH;MACJ,CARD,CAQE,OAAOG,GAAP,EAAY,CACV;MACH;IAEA,CAdL;;IAgBH,OAAO,MAAM;MACXtB,EAAE,CAACuB,OAAH,GAAa,MAAM;QACjBb,OAAO,CAACC,GAAR,CAAY,wBAAZ;QACAV,KAAK,CAAC,IAAIC,SAAJ,CAAcN,GAAd,CAAD,CAAL;MACD,CAHD;IAID,CALD;EAMD,CA5BS,EA4BP,CAACI,EAAE,CAACa,SAAJ,EAAeb,EAAE,CAACS,MAAlB,EAA0BT,EAAE,CAACuB,OAA7B,CA5BO,CAAT;EA6BA;IAAA;IACI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MAAA,uBACI;QAAA,wBACI;UAAA,uBACI;YAAA,uBACI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QADJ,eAMI;UAAA,uBACI;YAAA,uBACI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QANJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EAnBJ;AAkCH,CArED;;GAAMxB,O;;KAAAA,O;AAuEN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}